<?xml version="1.0" encoding="UTF-8"?>
<?asciidoc-toc?>
<?asciidoc-numbered?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xl="http://www.w3.org/1999/xlink" version="5.0" xml:lang="en">
<info>
<title>Examples</title>
<date>2018-09-07</date>
</info>
<section xml:id="_examples">
<title>Examples</title>
<section xml:id="_contains_command">
<title>contains command</title>
<section xml:id="_use_unix_find_to_list_all_supported_files">
<title>Use unix find to list all supported files</title>
<programlisting language="bash" linenumbering="unnumbered">find some-folder/ -type f -exec dockmoor contains --any {} \; -print</programlisting>
<simpara>stdout:</simpara>
<blockquote>
<literallayout class="monospaced">some-folder/Dockerfile-nginx-latest
some-folder/subfolder/Dockerfile-nginx-latest</literallayout>
</blockquote>
<simpara>stderr is empty<?asciidoc-br?>
exit code:
0</simpara>
</section>
<section xml:id="_test_the_format_of_a_file">
<title>Test the format of a file</title>
<simpara>The <literal>contains</literal> command returns with exit code
0
when an image reference was found that matches.
Using the <literal>--any</literal> predicate allows to match any file with a supported format that contains at least one image reference.</simpara>
<programlisting language="bash" linenumbering="unnumbered">dockmoor contains --any some-folder/Dockerfile-nginx-latest</programlisting>
<simpara>stdout is empty<?asciidoc-br?>
stderr is empty<?asciidoc-br?>
exit code:
0</simpara>
<programlisting language="bash" linenumbering="unnumbered">dockmoor contains --any some-folder/NotADockerfile</programlisting>
<simpara>stdout is empty<?asciidoc-br?>
stderr is empty<?asciidoc-br?>
exit code:
4</simpara>
</section>
</section>
</section>
<section xml:id="_supported_formats">
<title>Supported Formats</title>
<itemizedlist>
<listitem>
<simpara>Dockerfile (as used by <literal>docker build</literal>)</simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="_usage">
<title>Usage</title>
<blockquote>
<simpara>___go_build_00_main_go_cmd_find_go_exit_codes_go_asciidoc_go_markdown_go [OPTIONS] &lt;<link linkend="find-command">find</link>&gt; [command-OPTIONS]</simpara>
</blockquote>
</section>
<section xml:id="_application_options">
<title>Application Options</title>
<simpara><emphasis role="strong">-l</emphasis>, <emphasis role="strong">--log-level</emphasis>
Sets the log-level (one of <literal>NONE</literal>, <literal>ERROR</literal>, <literal>WARN</literal>, <literal>INFO</literal>, <literal>DEBUG</literal>)</simpara>
<simpara><emphasis role="strong">--version</emphasis>
Show version and exit</simpara>
<simpara><emphasis role="strong">--manpage</emphasis>
Show man page and exit</simpara>
<simpara><emphasis role="strong">--markdown</emphasis>
Show usage as markdown and exit</simpara>
<simpara><emphasis role="strong">--asciidoc-usage</emphasis>
Show usage as asciidoc and exit</simpara>
</section>
<section xml:id="_help_options">
<title>Help Options</title>
<simpara><emphasis role="strong">-h</emphasis>, <emphasis role="strong">--help</emphasis>
Show this help message</simpara>
<section xml:id="_commands">
<title>Commands</title>
<itemizedlist>
<listitem>
<simpara><link linkend="find-command">find</link></simpara>
</listitem>
</itemizedlist>
<section xml:id="_find_command">
<title>find command</title>
<blockquote>
<simpara>___go_build_00_main_go_cmd_find_go_exit_codes_go_asciidoc_go_markdown_go [OPTIONS] find [find-OPTIONS] InputFile</simpara>
</blockquote>
<simpara>The find command returns exit code 0 when the given input contains at least one image reference that satisfy the given conditions, non-null otherwise</simpara>
</section>
</section>
<section xml:id="_predicates">
<title>Predicates</title>
<simpara>Specify which kind of image references should be selected. Exactly one must be specified</simpara>
<simpara><emphasis role="strong">--any</emphasis>
Find all images</simpara>
</section>
<section xml:id="_help_options_2">
<title>Help Options</title>
<simpara><emphasis role="strong">-h</emphasis>, <emphasis role="strong">--help</emphasis>
Show this help message</simpara>
</section>
</section>
</article>